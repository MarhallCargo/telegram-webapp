<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑</title>
  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #fbeaec, #f5f7fa);
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      padding: 40px 20px;
    }
    .container {
      background: white;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
      max-width: 700px;
      width: 100%;
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
      color: #2c2e33;
    }
    h3 {
      margin-top: 24px;
      margin-bottom: 8px;
      font-size: 18px;
    }
    input[type="url"], input[type="file"], textarea {
      width: 100%;
      padding: 10px;
      margin-top: 6px;
      margin-bottom: 12px;
      border: 1px solid #ddd;
      border-radius: 10px;
      font-size: 14px;
    }
    textarea::placeholder {
      opacity: 0.5;
      font-style: italic;
    }
    .btn {
      padding: 10px 16px;
      background-color: #e47979;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 14px;
      margin-top: 10px;
    }
    .btn:hover {
      background-color: #d16565;
    }
    .block {
      border: 1px solid #f0f0f0;
      padding: 16px;
      border-radius: 10px;
      margin-bottom: 16px;
      background: #fafafa;
    }
    .top-links {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }
    .chat-block {
      margin-top: 32px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑</h1>
    <div style="margin: 16px 0; padding: 16px; background-color: #f5f5f5; border-radius: 12px;">
      <p style="margin-bottom: 10px;">
        –ï—Å–ª–∏ –≤–∞–º —É–¥–æ–±–Ω–µ–µ –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã, –≤—ã –º–æ–∂–µ—Ç–µ <a href="/static/templates/order_template.xlsx" download style="color: #e47979; font-weight: bold;">—Å–∫–∞—á–∞—Ç—å —à–∞–±–ª–æ–Ω</a>.
        –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –Ω–∏–∂–µ ‚Äî —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç –Ω–∞–º –±—ã—Å—Ç—Ä–µ–µ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤–∞—à—É –∑–∞—è–≤–∫—É.
      </p>
      <a href="/static/templates/order_template.xlsx" download class="button">üì• –°–∫–∞—á–∞—Ç—å —à–∞–±–ª–æ–Ω Excel</a>
    </div>

    <form id="orderForm" action="/create_order" method="post" enctype="multipart/form-data">

      <!-- üîó –°—Å—ã–ª–∫–∏ -->
      <div class="top-links">
        <h3>–°—Å—ã–ª–∫–∏ –Ω–∞ —Ç–æ–≤–∞—Ä</h3>
        <button type="button" class="btn" onclick="addLink()">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É</button>
      </div>
      <div id="linkSection"></div>

      <!-- üìé –§–∞–π–ª—ã -->
      <div class="top-links">
        <h3>–§–∞–π–ª—ã –∏ –ø–æ—è—Å–Ω–µ–Ω–∏—è</h3>
        <button type="button" class="btn" onclick="addFile()">üìé –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª</button>
      </div>
      <div id="fileSection"></div>

      <!-- üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π -->
      <div class="chat-block">
        <h3>–ß–∞—Ç —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º (–ø–æ –∑–∞–∫–∞–∑—É)</h3>
        <textarea name="order_comment" rows="3" placeholder="–ó–¥–µ—Å—å –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É. –ù–∞–ø—Ä–∏–º–µ—Ä: —É—Ç–æ—á–Ω–∏—Ç—å —Å—Ä–æ–∫, —Å–ø—Ä–æ—Å–∏—Ç—å —É –ø—Ä–æ–¥–∞–≤—Ü–∞ —Ä–∞–∑–º–µ—Ä, –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä—É."></textarea>
      </div>

      <!-- üöÄ –û—Ç–ø—Ä–∞–≤–∏—Ç—å -->
      <button type="submit" class="btn" style="width: 100%; font-weight: 600;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑ –º–µ–Ω–µ–¥–∂–µ—Ä—É</button>
    </form>
  </div>

  <script>
    let linkCount = 0;
    let fileCount = 0;
    const maxLinks = 20;

    function addLink() {
      if (linkCount >= maxLinks) return alert("–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –º–∞–∫—Å–∏–º—É–º 20 —Å—Å—ã–ª–æ–∫");

      const div = document.createElement("div");
      div.className = "block";
      div.innerHTML = `
        <input type="url" name="links[]" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—Å—ã–ª–∫—É" required>
        <textarea name="link_notes[]" placeholder="–ß—Ç–æ —Å–ø—Ä–æ—Å–∏—Ç—å —É –ø—Ä–æ–¥–∞–≤—Ü–∞ –ø–æ —ç—Ç–æ–π —Å—Å—ã–ª–∫–µ?" rows="2"></textarea>
        <button type="button" class="btn" onclick="this.parentElement.remove(); linkCount--;">‚ùå –£–¥–∞–ª–∏—Ç—å</button>
      `;
      document.getElementById("linkSection").appendChild(div);
      linkCount++;
    }

    function addFile() {
      const div = document.createElement("div");
      div.className = "block";
      div.innerHTML = `
        <input type="file" name="files[]" required>
        <textarea name="file_notes[]" placeholder="–ü–æ—è—Å–Ω–µ–Ω–∏–µ –∫ —Ñ–∞–π–ª—É (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" rows="2"></textarea>
        <button type="button" class="btn" onclick="this.parentElement.remove(); fileCount--;">‚ùå –£–¥–∞–ª–∏—Ç—å</button>
      `;
      document.getElementById("fileSection").appendChild(div);
      fileCount++;
    }
  </script>
</body>
</html>
